<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>ðŸŒ¸ A Garden Just For You ðŸŒ¸</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        body {
            width: 100%;
            height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Arial', sans-serif;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><circle cx="16" cy="16" r="8" fill="%23ff69b4"/></svg>') 16 16, auto;
            overflow: hidden;
            position: relative;
        }

        #canvas {
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            box-shadow: 0 10px 50px rgba(0, 0, 0, 0.3);
            background: linear-gradient(180deg, #ffeaa7 0%, #fab1a0 100%);
            cursor: pointer;
            touch-action: none;
            max-width: 95vw;
            max-height: 85vh;
        }

        .info-box {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.95);
            padding: 12px 25px;
            border-radius: 30px;
            font-size: 13px;
            color: #764ba2;
            font-weight: bold;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            max-width: 90%;
            z-index: 20;
        }

        .title {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 24px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            z-index: 10;
            text-align: center;
            max-width: 90%;
        }

        /* Mobile specific styles */
        @media (max-width: 768px) {
            .title {
                font-size: 20px;
                top: 15px;
            }
            
            .info-box {
                font-size: 12px;
                padding: 10px 20px;
                bottom: 15px;
            }
            
            #canvas {
                border-width: 2px;
                border-radius: 15px;
                max-width: 98vw;
                max-height: 90vh;
            }
        }

        /* iPhone specific optimizations */
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            
            .title {
                font-size: 18px;
                top: 10px;
            }
            
            .info-box {
                font-size: 11px;
                padding: 8px 15px;
                bottom: 10px;
            }
        }

        /* Landscape mode adjustments */
        @media (orientation: landscape) and (max-height: 500px) {
            .title {
                font-size: 16px;
                top: 5px;
            }
            
            .info-box {
                font-size: 10px;
                padding: 6px 12px;
                bottom: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="title">âœ¨ Your Every Action Creates Magic âœ¨</div>
    <canvas id="canvas"></canvas>
    <div class="info-box">just like these beautiful flowers! Your actions make this garden bloom ðŸŒ¸ðŸ’•</div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        // Audio context for sound effects
        let audioContext;
        let backgroundMusic;
        let isMusicPlaying = false;

        function initAudio() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
        }

        // Create gentle chime sound
        function playChime(frequency = 800) {
            initAudio();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            oscillator.frequency.value = frequency;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.8);
            
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.8);
        }

        // Create sparkle sound
        function playSparkle() {
            initAudio();
            const frequencies = [1200, 1400, 1600];
            frequencies.forEach((freq, i) => {
                setTimeout(() => {
                    const osc = audioContext.createOscillator();
                    const gain = audioContext.createGain();
                    
                    osc.connect(gain);
                    gain.connect(audioContext.destination);
                    
                    osc.frequency.value = freq;
                    osc.type = 'sine';
                    
                    gain.gain.setValueAtTime(0.05, audioContext.currentTime);
                    gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                    
                    osc.start(audioContext.currentTime);
                    osc.stop(audioContext.currentTime + 0.3);
                }, i * 50);
            });
        }

        // Create ambient background music
        function createBackgroundMusic() {
            initAudio();
            if (isMusicPlaying) return;
            
            const notes = [523.25, 587.33, 659.25, 783.99, 880.00]; // C, D, E, G, A (pentatonic scale)
            let noteIndex = 0;
            
            function playNote() {
                if (!isMusicPlaying) return;
                
                const osc = audioContext.createOscillator();
                const gain = audioContext.createGain();
                const filter = audioContext.createBiquadFilter();
                
                osc.connect(filter);
                filter.connect(gain);
                gain.connect(audioContext.destination);
                
                osc.frequency.value = notes[noteIndex % notes.length] / 2;
                osc.type = 'sine';
                filter.type = 'lowpass';
                filter.frequency.value = 2000;
                
                gain.gain.setValueAtTime(0, audioContext.currentTime);
                gain.gain.linearRampToValueAtTime(0.03, audioContext.currentTime + 0.1);
                gain.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 2);
                
                osc.start(audioContext.currentTime);
                osc.stop(audioContext.currentTime + 2);
                
                noteIndex++;
                setTimeout(playNote, 2000 + Math.random() * 1000);
            }
            
            isMusicPlaying = true;
            playNote();
        }

        // Start music on first interaction
        function startMusic() {
            if (!isMusicPlaying) {
                createBackgroundMusic();
            }
        }

        // Responsive canvas sizing
        function resizeCanvas() {
            const maxWidth = window.innerWidth * 0.9;
            const maxHeight = window.innerHeight * 0.8;
            
            canvas.width = Math.min(maxWidth, 800);
            canvas.height = Math.min(maxHeight, 600);
            
            // Adjust for very small screens
            if (window.innerWidth < 480) {
                canvas.width = window.innerWidth * 0.95;
                canvas.height = window.innerHeight * 0.85;
            }
        }

        resizeCanvas();

        const particles = [];
        const butterflies = [];
        const flowers = [];
        const messageQueue = [];

        const messageTexts = [
            "You're so special! ðŸ’•",
            "Every moment with you is beautiful ðŸŒ¸",
            "You make everything better âœ¨",
            "You're magical! ðŸ¦‹",
            "Look what you created! ðŸŒº",
            "You're one in a million! ðŸ’–",
            "Your presence is a gift ðŸŽ",
            "You're absolutely wonderful! ðŸŒ·",
            "Everything is beautiful because of you ðŸ’«",
            "You shine so bright! â­",
            "You pretty pretty lady ðŸ’•",
            "You as amazing as those stars miss ðŸ’«",
            "its gonna be okay miss... â­",
            "You doing Great ðŸŒ·",
            "You deserve everything...ðŸŒº",
        ];

        class Flower {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.size = Math.random() * 12 + 8;
                this.petals = Math.floor(Math.random() * 3) + 5;
                this.color = this.getRandomColor();
                this.rotation = Math.random() * Math.PI * 2;
                this.life = 1;
                this.decay = Math.random() * 0.008 + 0.004;
                this.wobble = 0;
                this.glowIntensity = Math.random() * 0.5 + 0.5;
            }

            getRandomColor() {
                const colors = [
                    '#FF69B4', '#FFB6D9', '#FF1493', '#FFD700',
                    '#FFE4B5', '#DDA0DD', '#FF6347', '#FF4500',
                    '#FFA07A', '#FFB347', '#98FB98', '#87CEEB'
                ];
                return colors[Math.floor(Math.random() * colors.length)];
            }

            draw() {
                ctx.save();
                ctx.translate(this.x, this.y);
                ctx.rotate(this.rotation + this.wobble);
                ctx.globalAlpha = this.life;

                // Add glow effect
                ctx.shadowColor = this.color;
                ctx.shadowBlur = this.glowIntensity * 10;

                // Draw petals
                for (let i = 0; i < this.petals; i++) {
                    ctx.save();
                    ctx.rotate((Math.PI * 2 / this.petals) * i);
                    ctx.fillStyle = this.color;
                    ctx.beginPath();
                    ctx.ellipse(0, -this.size / 1.5, this.size / 2.5, this.size / 1.2, 0, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.restore();
                }

                // Draw center
                ctx.shadowBlur = 5;
                ctx.fillStyle = '#FFD700';
                ctx.beginPath();
                ctx.arc(0, 0, this.size / 4, 0, Math.PI * 2);
                ctx.fill();

                ctx.restore();

                this.life -= this.decay;
                this.wobble += 0.015;
            }
        }

        class Butterfly {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.vx = (Math.random() - 0.5) * 2.5;
                this.vy = (Math.random() - 0.5) * 2.5 - 1;
                this.size = Math.random() * 6 + 5;
                this.color = this.getRandomColor();
                this.life = 1;
                this.wingBeat = 0;
            }

            getRandomColor() {
                const colors = [
                    { primary: '#FF69B4', secondary: '#FFB6D9' },
                    { primary: '#FF1493', secondary: '#FF69B4' },
                    { primary: '#9D4EDD', secondary: '#E0AAFF' },
                    { primary: '#3A86FF', secondary: '#8338EC' },
                    { primary: '#FB5607', secondary: '#FFBE0B' }
                ];
                return colors[Math.floor(Math.random() * colors.length)];
            }

            draw() {
                ctx.save();
                ctx.translate(this.x, this.y);
                ctx.rotate(Math.atan2(this.vy, this.vx));
                ctx.globalAlpha = this.life;

                // Wing animation
                const wingScale = 1 + Math.sin(this.wingBeat) * 0.3;
                ctx.scale(wingScale, 1);

                // Left wing
                ctx.fillStyle = this.color.primary;
                ctx.beginPath();
                ctx.ellipse(-this.size / 2, 0, this.size / 2, this.size, 0, 0, Math.PI * 2);
                ctx.fill();

                // Right wing
                ctx.fillStyle = this.color.secondary;
                ctx.beginPath();
                ctx.ellipse(this.size / 2, 0, this.size / 2, this.size, 0, 0, Math.PI * 2);
                ctx.fill();

                // Body
                ctx.fillStyle = '#333';
                ctx.beginPath();
                ctx.ellipse(0, 0, this.size / 4, this.size / 1.2, 0, 0, Math.PI * 2);
                ctx.fill();

                ctx.restore();

                this.x += this.vx;
                this.y += this.vy;
                this.vy += 0.08;
                this.life -= 0.006;
                this.wingBeat += 0.3;
            }
        }

        class Particle {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.vx = (Math.random() - 0.5) * 3;
                this.vy = (Math.random() - 0.5) * 3 - 1.5;
                this.size = Math.random() * 2 + 1;
                this.life = 1;
                this.decay = Math.random() * 0.015 + 0.008;
                this.color = this.getRandomColor();
            }

            getRandomColor() {
                const colors = ['#FFD700', '#FF69B4', '#87CEEB', '#98FB98', '#DDA0DD'];
                return colors[Math.floor(Math.random() * colors.length)];
            }

            draw() {
                ctx.save();
                ctx.globalAlpha = this.life;
                ctx.fillStyle = this.color;
                ctx.shadowColor = this.color;
                ctx.shadowBlur = 5;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();

                this.x += this.vx;
                this.y += this.vy;
                this.life -= this.decay;
            }
        }

        class Message {
            constructor(x, y, text) {
                this.x = x;
                this.y = y;
                this.text = text;
                this.startTime = Date.now();
                this.fontSize = window.innerWidth < 480 ? 14 : 18;
            }

            draw() {
                const elapsed = Date.now() - this.startTime;
                const alpha = Math.max(0, 1 - (elapsed / 2500));
                
                if (alpha <= 0) return false;
                
                ctx.save();
                ctx.globalAlpha = alpha;
                ctx.fillStyle = '#FF1493';
                ctx.font = `bold ${this.fontSize}px Arial`;
                ctx.textAlign = 'center';
                ctx.shadowColor = 'rgba(255,255,255,0.8)';
                ctx.shadowBlur = 3;
                ctx.fillText(this.text, this.x, this.y - 40 - (elapsed / 120));
                ctx.restore();

                return true;
            }
        }

        function createFlowerBurst(x, y) {
            // Play sounds
            playChime(800 + Math.random() * 400);
            setTimeout(() => playSparkle(), 100);
            startMusic();

            // Create flowers in a more organic pattern
            const flowerCount = Math.random() * 3 + 4;
            for (let i = 0; i < flowerCount; i++) {
                const angle = (Math.PI * 2 / flowerCount) * i + Math.random() * 0.5;
                const distance = Math.random() * 40 + 20;
                const fx = x + Math.cos(angle) * distance;
                const fy = y + Math.sin(angle) * distance;
                flowers.push(new Flower(fx, fy));
            }

            // Create particles
            const particleCount = Math.random() * 15 + 10;
            for (let i = 0; i < particleCount; i++) {
                particles.push(new Particle(x, y));
            }

            // Create butterflies
            const butterflyCount = Math.random() * 2 + 2;
            for (let i = 0; i < butterflyCount; i++) {
                butterflies.push(new Butterfly(x, y));
            }

            // Add message
            const message = messageTexts[Math.floor(Math.random() * messageTexts.length)];
            messageQueue.push(new Message(x, y, message));
        }

        function animate() {
            // Soft trail effect
            ctx.fillStyle = 'rgba(255, 234, 167, 0.08)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Draw all elements
            flowers.forEach((flower, index) => {
                flower.draw();
                if (flower.life <= 0) {
                    flowers.splice(index, 1);
                }
            });

            butterflies.forEach((butterfly, index) => {
                butterfly.draw();
                if (butterfly.life <= 0 || butterfly.y > canvas.height + 50) {
                    butterflies.splice(index, 1);
                }
            });

            particles.forEach((particle, index) => {
                particle.draw();
                if (particle.life <= 0) {
                    particles.splice(index, 1);
                }
            });

            messageQueue.forEach((message, index) => {
                if (!message.draw()) {
                    messageQueue.splice(index, 1);
                }
            });

            requestAnimationFrame(animate);
        }

        // Enhanced event handling for both desktop and mobile
        function getEventPosition(e) {
            const rect = canvas.getBoundingClientRect();
            const clientX = e.clientX || (e.touches && e.touches[0].clientX);
            const clientY = e.clientY || (e.touches && e.touches[0].clientY);
            
            return {
                x: (clientX - rect.left) * (canvas.width / rect.width),
                y: (clientY - rect.top) * (canvas.height / rect.height)
            };
        }

        canvas.addEventListener('click', (e) => {
            const pos = getEventPosition(e);
            createFlowerBurst(pos.x, pos.y);
        });

        canvas.addEventListener('touchstart', (e) => {
            e.preventDefault();
            const pos = getEventPosition(e);
            createFlowerBurst(pos.x, pos.y);
        });

        canvas.addEventListener('touchmove', (e) => {
            e.preventDefault();
        });

        window.addEventListener('resize', () => {
            resizeCanvas();
        });

        // Prevent context menu on long press
        canvas.addEventListener('contextmenu', (e) => {
            e.preventDefault();
        });

        // Start animation
        animate();

        // Welcome burst
        setTimeout(() => {
            createFlowerBurst(canvas.width / 2, canvas.height / 2);
        }, 500);

        // Periodic ambient effects
        setInterval(() => {
            if (Math.random() < 0.3) {
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height;
                createFlowerBurst(x, y);
            }
        }, 5000);
    </script>
</body>
</html>